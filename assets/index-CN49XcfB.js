(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const d of r.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();const Fe="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20aria-hidden='true'%20role='img'%20class='iconify%20iconify--logos'%20width='32'%20height='32'%20preserveAspectRatio='xMidYMid%20meet'%20viewBox='0%200%20256%20256'%3e%3cpath%20fill='%23F7DF1E'%20d='M0%200h256v256H0V0Z'%3e%3c/path%3e%3cpath%20d='m67.312%20213.932l19.59-11.856c3.78%206.701%207.218%2012.371%2015.465%2012.371c7.905%200%2012.89-3.092%2012.89-15.12v-81.798h24.057v82.138c0%2024.917-14.606%2036.259-35.916%2036.259c-19.245%200-30.416-9.967-36.087-21.996m85.07-2.576l19.588-11.341c5.157%208.421%2011.859%2014.607%2023.715%2014.607c9.969%200%2016.325-4.984%2016.325-11.858c0-8.248-6.53-11.17-17.528-15.98l-6.013-2.58c-17.357-7.387-28.87-16.667-28.87-36.257c0-18.044%2013.747-31.792%2035.228-31.792c15.294%200%2026.292%205.328%2034.196%2019.247l-18.732%2012.03c-4.125-7.389-8.591-10.31-15.465-10.31c-7.046%200-11.514%204.468-11.514%2010.31c0%207.217%204.468%2010.14%2014.778%2014.608l6.014%202.577c20.45%208.765%2031.963%2017.7%2031.963%2037.804c0%2021.654-17.012%2033.51-39.867%2033.51c-22.339%200-36.774-10.654-43.819-24.574'%3e%3c/path%3e%3c/svg%3e",Pe="/vite.svg";function ze(e){return typeof e.id=="string"}var Y={exports:{}},Oe;function ke(){if(Oe)return Y.exports;Oe=1;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(c,f,u){return Function.prototype.apply.call(c,f,u)},n;e&&typeof e.ownKeys=="function"?n=e.ownKeys:Object.getOwnPropertySymbols?n=function(c){return Object.getOwnPropertyNames(c).concat(Object.getOwnPropertySymbols(c))}:n=function(c){return Object.getOwnPropertyNames(c)};function o(s){console&&console.warn&&console.warn(s)}var i=Number.isNaN||function(c){return c!==c};function r(){r.init.call(this)}Y.exports=r,Y.exports.once=v,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._eventsCount=0,r.prototype._maxListeners=void 0;var d=10;function p(s){if(typeof s!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof s)}Object.defineProperty(r,"defaultMaxListeners",{enumerable:!0,get:function(){return d},set:function(s){if(typeof s!="number"||s<0||i(s))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+s+".");d=s}}),r.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},r.prototype.setMaxListeners=function(c){if(typeof c!="number"||c<0||i(c))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+c+".");return this._maxListeners=c,this};function g(s){return s._maxListeners===void 0?r.defaultMaxListeners:s._maxListeners}r.prototype.getMaxListeners=function(){return g(this)},r.prototype.emit=function(c){for(var f=[],u=1;u<arguments.length;u++)f.push(arguments[u]);var a=c==="error",m=this._events;if(m!==void 0)a=a&&m.error===void 0;else if(!a)return!1;if(a){var y;if(f.length>0&&(y=f[0]),y instanceof Error)throw y;var b=new Error("Unhandled error."+(y?" ("+y.message+")":""));throw b.context=y,b}var z=m[c];if(z===void 0)return!1;if(typeof z=="function")t(z,this,f);else for(var ye=z.length,Ue=O(z,ye),u=0;u<ye;++u)t(Ue[u],this,f);return!0};function L(s,c,f,u){var a,m,y;if(p(f),m=s._events,m===void 0?(m=s._events=Object.create(null),s._eventsCount=0):(m.newListener!==void 0&&(s.emit("newListener",c,f.listener?f.listener:f),m=s._events),y=m[c]),y===void 0)y=m[c]=f,++s._eventsCount;else if(typeof y=="function"?y=m[c]=u?[f,y]:[y,f]:u?y.unshift(f):y.push(f),a=g(s),a>0&&y.length>a&&!y.warned){y.warned=!0;var b=new Error("Possible EventEmitter memory leak detected. "+y.length+" "+String(c)+" listeners added. Use emitter.setMaxListeners() to increase limit");b.name="MaxListenersExceededWarning",b.emitter=s,b.type=c,b.count=y.length,o(b)}return s}r.prototype.addListener=function(c,f){return L(this,c,f,!1)},r.prototype.on=r.prototype.addListener,r.prototype.prependListener=function(c,f){return L(this,c,f,!0)};function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function w(s,c,f){var u={fired:!1,wrapFn:void 0,target:s,type:c,listener:f},a=h.bind(u);return a.listener=f,u.wrapFn=a,a}r.prototype.once=function(c,f){return p(f),this.on(c,w(this,c,f)),this},r.prototype.prependOnceListener=function(c,f){return p(f),this.prependListener(c,w(this,c,f)),this},r.prototype.removeListener=function(c,f){var u,a,m,y,b;if(p(f),a=this._events,a===void 0)return this;if(u=a[c],u===void 0)return this;if(u===f||u.listener===f)--this._eventsCount===0?this._events=Object.create(null):(delete a[c],a.removeListener&&this.emit("removeListener",c,u.listener||f));else if(typeof u!="function"){for(m=-1,y=u.length-1;y>=0;y--)if(u[y]===f||u[y].listener===f){b=u[y].listener,m=y;break}if(m<0)return this;m===0?u.shift():E(u,m),u.length===1&&(a[c]=u[0]),a.removeListener!==void 0&&this.emit("removeListener",c,b||f)}return this},r.prototype.off=r.prototype.removeListener,r.prototype.removeAllListeners=function(c){var f,u,a;if(u=this._events,u===void 0)return this;if(u.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):u[c]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete u[c]),this;if(arguments.length===0){var m=Object.keys(u),y;for(a=0;a<m.length;++a)y=m[a],y!=="removeListener"&&this.removeAllListeners(y);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(f=u[c],typeof f=="function")this.removeListener(c,f);else if(f!==void 0)for(a=f.length-1;a>=0;a--)this.removeListener(c,f[a]);return this};function l(s,c,f){var u=s._events;if(u===void 0)return[];var a=u[c];return a===void 0?[]:typeof a=="function"?f?[a.listener||a]:[a]:f?C(a):O(a,a.length)}r.prototype.listeners=function(c){return l(this,c,!0)},r.prototype.rawListeners=function(c){return l(this,c,!1)},r.listenerCount=function(s,c){return typeof s.listenerCount=="function"?s.listenerCount(c):A.call(s,c)},r.prototype.listenerCount=A;function A(s){var c=this._events;if(c!==void 0){var f=c[s];if(typeof f=="function")return 1;if(f!==void 0)return f.length}return 0}r.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function O(s,c){for(var f=new Array(c),u=0;u<c;++u)f[u]=s[u];return f}function E(s,c){for(;c+1<s.length;c++)s[c]=s[c+1];s.pop()}function C(s){for(var c=new Array(s.length),f=0;f<c.length;++f)c[f]=s[f].listener||s[f];return c}function v(s,c){return new Promise(function(f,u){function a(y){s.removeListener(c,m),u(y)}function m(){typeof s.removeListener=="function"&&s.removeListener("error",a),f([].slice.call(arguments))}_(s,c,m,{once:!0}),c!=="error"&&T(s,a,{once:!0})})}function T(s,c,f){typeof s.on=="function"&&_(s,"error",c,f)}function _(s,c,f,u){if(typeof s.on=="function")u.once?s.once(c,f):s.on(c,f);else if(typeof s.addEventListener=="function")s.addEventListener(c,function a(m){u.once&&s.removeEventListener(c,a),f(m)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof s)}return Y.exports}var $e=ke();let q;const Ke=new Uint8Array(16);function We(){if(!q&&(q=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!q))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return q(Ke)}const M=[];for(let e=0;e<256;++e)M.push((e+256).toString(16).slice(1));function Ge(e,t=0){return M[e[t+0]]+M[e[t+1]]+M[e[t+2]]+M[e[t+3]]+"-"+M[e[t+4]]+M[e[t+5]]+"-"+M[e[t+6]]+M[e[t+7]]+"-"+M[e[t+8]]+M[e[t+9]]+"-"+M[e[t+10]]+M[e[t+11]]+M[e[t+12]]+M[e[t+13]]+M[e[t+14]]+M[e[t+15]]}const He=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),ve={randomUUID:He};function je(e,t,n){if(ve.randomUUID&&!e)return ve.randomUUID();e=e||{};const o=e.random||(e.rng||We)();return o[6]=o[6]&15|64,o[8]=o[8]&63|128,Ge(o)}class Ye extends $e.EventEmitter{constructor(t,n){super(),this.ready=!1,this.userId=null,this.ref=null,this.handleMessage=o=>{const i=o.data;if(o.origin===this.targetOrigin&&ze(i)){if(i.id==="OBR_READY"){this.ready=!0;const r=i.data;this.ref=r.ref,this.userId=r.userId}this.emit(i.id,i.data)}},this.send=(o,i,r)=>{var d;if(!this.ref)throw Error("Unable to send message: not ready");(d=window.parent)===null||d===void 0||d.postMessage({id:o,data:i,ref:this.ref,nonce:r},this.targetOrigin)},this.sendAsync=(o,i,r=5e3)=>{const d=`_${je()}`;return this.send(o,i,d),Promise.race([new Promise((p,g)=>{const L=this;function h(l){L.off(`${o}_RESPONSE${d}`,h),L.off(`${o}_ERROR${d}`,w),p(l)}function w(l){L.off(`${o}_RESPONSE${d}`,h),L.off(`${o}_ERROR${d}`,w),g(l)}this.on(`${o}_RESPONSE${d}`,h),this.on(`${o}_ERROR${d}`,w)}),...r>0?[new Promise((p,g)=>window.setTimeout(()=>g(new Error(`Message ${o} took longer than ${r}ms to get a result`)),r))]:[]])},this.roomId=n,this.targetOrigin=t,window.addEventListener("message",this.handleMessage),this.setMaxListeners(100)}destroy(){window.removeEventListener("message",this.handleMessage)}}var me=function(e,t,n,o){function i(r){return r instanceof n?r:new n(function(d){d(r)})}return new(n||(n=Promise))(function(r,d){function p(h){try{L(o.next(h))}catch(w){d(w)}}function g(h){try{L(o.throw(h))}catch(w){d(w)}}function L(h){h.done?r(h.value):i(h.value).then(p,g)}L((o=o.apply(e,t||[])).next())})};class qe{constructor(t){this.messageBus=t}show(t,n){return me(this,void 0,void 0,function*(){const{id:o}=yield this.messageBus.sendAsync("OBR_NOTIFICATION_SHOW",{message:t,variant:n});return o})}close(t){return me(this,void 0,void 0,function*(){yield this.messageBus.sendAsync("OBR_NOTIFICATION_CLOSE",{id:t})})}}var de=Symbol.for("immer-nothing"),k=Symbol.for("immer-draftable"),R=Symbol.for("immer-state");function x(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var V=Object.getPrototypeOf;function U(e){return!!e&&!!e[R]}function I(e){var t;return e?Re(e)||Array.isArray(e)||!!e[k]||!!((t=e.constructor)!=null&&t[k])||H(e)||j(e):!1}var Ze=Object.prototype.constructor.toString();function Re(e){if(!e||typeof e!="object")return!1;const t=V(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===Ze}function $(e,t){F(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,o)=>t(o,n,e))}function F(e){const t=e[R];return t?t.type_:Array.isArray(e)?1:H(e)?2:j(e)?3:0}function K(e,t){return F(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function te(e,t){return F(e)===2?e.get(t):e[t]}function De(e,t,n){const o=F(e);o===2?e.set(t,n):o===3?e.add(n):e[t]=n}function Xe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function H(e){return e instanceof Map}function j(e){return e instanceof Set}function N(e){return e.copy_||e.base_}function ie(e,t){if(H(e))return new Map(e);if(j(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Re(e);if(t===!0||t==="class_only"&&!n){const o=Object.getOwnPropertyDescriptors(e);delete o[R];let i=Reflect.ownKeys(o);for(let r=0;r<i.length;r++){const d=i[r],p=o[d];p.writable===!1&&(p.writable=!0,p.configurable=!0),(p.get||p.set)&&(o[d]={configurable:!0,writable:!0,enumerable:p.enumerable,value:e[d]})}return Object.create(V(e),o)}else{const o=V(e);if(o!==null&&n)return{...e};const i=Object.create(o);return Object.assign(i,e)}}function ae(e,t=!1){return ee(e)||U(e)||!I(e)||(F(e)>1&&(e.set=e.add=e.clear=e.delete=Je),Object.freeze(e),t&&Object.entries(e).forEach(([n,o])=>ae(o,!0))),e}function Je(){x(2)}function ee(e){return Object.isFrozen(e)}var re={};function P(e){const t=re[e];return t||x(0,e),t}function Qe(e,t){re[e]||(re[e]=t)}var W;function Be(){return W}function et(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Ee(e,t){t&&(P("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function se(e){ce(e),e.drafts_.forEach(tt),e.drafts_=null}function ce(e){e===W&&(W=e.parent_)}function Te(e){return W=et(W,e)}function tt(e){const t=e[R];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function we(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[R].modified_&&(se(t),x(4)),I(e)&&(e=J(t,e),t.parent_||Q(t,e)),t.patches_&&P("Patches").generateReplacementPatches_(n[R].base_,e,t.patches_,t.inversePatches_)):e=J(t,n,[]),se(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==de?e:void 0}function J(e,t,n){if(ee(t))return t;const o=t[R];if(!o)return $(t,(i,r)=>Ae(e,o,t,i,r,n)),t;if(o.scope_!==e)return t;if(!o.modified_)return Q(e,o.base_,!0),o.base_;if(!o.finalized_){o.finalized_=!0,o.scope_.unfinalizedDrafts_--;const i=o.copy_;let r=i,d=!1;o.type_===3&&(r=new Set(i),i.clear(),d=!0),$(r,(p,g)=>Ae(e,o,i,p,g,n,d)),Q(e,i,!1),n&&e.patches_&&P("Patches").generatePatches_(o,n,e.patches_,e.inversePatches_)}return o.copy_}function Ae(e,t,n,o,i,r,d){if(U(i)){const p=r&&t&&t.type_!==3&&!K(t.assigned_,o)?r.concat(o):void 0,g=J(e,i,p);if(De(n,o,g),U(g))e.canAutoFreeze_=!1;else return}else d&&n.add(i);if(I(i)&&!ee(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;J(e,i),(!t||!t.scope_.parent_)&&typeof o!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,o)&&Q(e,i)}}function Q(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ae(t,n)}function nt(e,t){const n=Array.isArray(e),o={type_:n?1:0,scope_:t?t.scope_:Be(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=o,r=le;n&&(i=[o],r=G);const{revoke:d,proxy:p}=Proxy.revocable(i,r);return o.draft_=p,o.revoke_=d,p}var le={get(e,t){if(t===R)return e;const n=N(e);if(!K(n,t))return ot(e,n,t);const o=n[t];return e.finalized_||!I(o)?o:o===ne(e.base_,t)?(oe(e),e.copy_[t]=ue(o,e)):o},has(e,t){return t in N(e)},ownKeys(e){return Reflect.ownKeys(N(e))},set(e,t,n){const o=be(N(e),t);if(o!=null&&o.set)return o.set.call(e.draft_,n),!0;if(!e.modified_){const i=ne(N(e),t),r=i==null?void 0:i[R];if(r&&r.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(Xe(n,i)&&(n!==void 0||K(e.base_,t)))return!0;oe(e),fe(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return ne(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,oe(e),fe(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=N(e),o=Reflect.getOwnPropertyDescriptor(n,t);return o&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:o.enumerable,value:n[t]}},defineProperty(){x(11)},getPrototypeOf(e){return V(e.base_)},setPrototypeOf(){x(12)}},G={};$(le,(e,t)=>{G[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});G.deleteProperty=function(e,t){return G.set.call(this,e,t,void 0)};G.set=function(e,t,n){return le.set.call(this,e[0],t,n,e[0])};function ne(e,t){const n=e[R];return(n?N(n):e)[t]}function ot(e,t,n){var i;const o=be(t,n);return o?"value"in o?o.value:(i=o.get)==null?void 0:i.call(e.draft_):void 0}function be(e,t){if(!(t in e))return;let n=V(e);for(;n;){const o=Object.getOwnPropertyDescriptor(n,t);if(o)return o;n=V(n)}}function fe(e){e.modified_||(e.modified_=!0,e.parent_&&fe(e.parent_))}function oe(e){e.copy_||(e.copy_=ie(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var it=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,o)=>{if(typeof t=="function"&&typeof n!="function"){const r=n;n=t;const d=this;return function(g=r,...L){return d.produce(g,h=>n.call(this,h,...L))}}typeof n!="function"&&x(6),o!==void 0&&typeof o!="function"&&x(7);let i;if(I(t)){const r=Te(this),d=ue(t,void 0);let p=!0;try{i=n(d),p=!1}finally{p?se(r):ce(r)}return Ee(r,o),we(i,r)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===de&&(i=void 0),this.autoFreeze_&&ae(i,!0),o){const r=[],d=[];P("Patches").generateReplacementPatches_(t,i,r,d),o(r,d)}return i}else x(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(d,...p)=>this.produceWithPatches(d,g=>t(g,...p));let o,i;return[this.produce(t,n,(d,p)=>{o=d,i=p}),o,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){I(e)||x(8),U(e)&&(e=rt(e));const t=Te(this),n=ue(e,void 0);return n[R].isManual_=!0,ce(t),n}finishDraft(e,t){const n=e&&e[R];(!n||!n.isManual_)&&x(9);const{scope_:o}=n;return Ee(o,t),we(void 0,o)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const o=P("Patches").applyPatches_;return U(e)?o(e,t):this.produce(e,i=>o(i,t))}};function ue(e,t){const n=H(e)?P("MapSet").proxyMap_(e,t):j(e)?P("MapSet").proxySet_(e,t):nt(e,t);return(t?t.scope_:Be()).drafts_.push(n),n}function rt(e){return U(e)||x(10,e),Ie(e)}function Ie(e){if(!I(e)||ee(e))return e;const t=e[R];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=ie(e,t.scope_.immer_.useStrictShallowCopy_)}else n=ie(e,!0);return $(n,(o,i)=>{De(n,o,Ie(i))}),t&&(t.finalized_=!1),n}function he(){const t="replace",n="add",o="remove";function i(l,A,O,E){switch(l.type_){case 0:case 2:return d(l,A,O,E);case 1:return r(l,A,O,E);case 3:return p(l,A,O,E)}}function r(l,A,O,E){let{base_:C,assigned_:v}=l,T=l.copy_;T.length<C.length&&([C,T]=[T,C],[O,E]=[E,O]);for(let _=0;_<C.length;_++)if(v[_]&&T[_]!==C[_]){const s=A.concat([_]);O.push({op:t,path:s,value:w(T[_])}),E.push({op:t,path:s,value:w(C[_])})}for(let _=C.length;_<T.length;_++){const s=A.concat([_]);O.push({op:n,path:s,value:w(T[_])})}for(let _=T.length-1;C.length<=_;--_){const s=A.concat([_]);E.push({op:o,path:s})}}function d(l,A,O,E){const{base_:C,copy_:v}=l;$(l.assigned_,(T,_)=>{const s=te(C,T),c=te(v,T),f=_?K(C,T)?t:n:o;if(s===c&&f===t)return;const u=A.concat(T);O.push(f===o?{op:f,path:u}:{op:f,path:u,value:c}),E.push(f===n?{op:o,path:u}:f===o?{op:n,path:u,value:w(s)}:{op:t,path:u,value:w(s)})})}function p(l,A,O,E){let{base_:C,copy_:v}=l,T=0;C.forEach(_=>{if(!v.has(_)){const s=A.concat([T]);O.push({op:o,path:s,value:_}),E.unshift({op:n,path:s,value:_})}T++}),T=0,v.forEach(_=>{if(!C.has(_)){const s=A.concat([T]);O.push({op:n,path:s,value:_}),E.unshift({op:o,path:s,value:_})}T++})}function g(l,A,O,E){O.push({op:t,path:[],value:A===de?void 0:A}),E.push({op:t,path:[],value:l})}function L(l,A){return A.forEach(O=>{const{path:E,op:C}=O;let v=l;for(let c=0;c<E.length-1;c++){const f=F(v);let u=E[c];typeof u!="string"&&typeof u!="number"&&(u=""+u),(f===0||f===1)&&(u==="__proto__"||u==="constructor")&&x(19),typeof v=="function"&&u==="prototype"&&x(19),v=te(v,u),typeof v!="object"&&x(18,E.join("/"))}const T=F(v),_=h(O.value),s=E[E.length-1];switch(C){case t:switch(T){case 2:return v.set(s,_);case 3:x(16);default:return v[s]=_}case n:switch(T){case 1:return s==="-"?v.push(_):v.splice(s,0,_);case 2:return v.set(s,_);case 3:return v.add(_);default:return v[s]=_}case o:switch(T){case 1:return v.splice(s,1);case 2:return v.delete(s);case 3:return v.delete(O.value);default:return delete v[s]}default:x(17,C)}}),l}function h(l){if(!I(l))return l;if(Array.isArray(l))return l.map(h);if(H(l))return new Map(Array.from(l.entries()).map(([O,E])=>[O,h(E)]));if(j(l))return new Set(Array.from(l).map(h));const A=Object.create(V(l));for(const O in l)A[O]=h(l[O]);return K(l,k)&&(A[k]=l[k]),A}function w(l){return U(l)?h(l):l}Qe("Patches",{applyPatches_:L,generatePatches_:i,generateReplacementPatches_:g})}var D=new it;D.produce;D.produceWithPatches.bind(D);D.setAutoFreeze.bind(D);D.setUseStrictShallowCopy.bind(D);D.applyPatches.bind(D);D.createDraft.bind(D);D.finishDraft.bind(D);he();he();function Ne(e){return e.startsWith("http")?e:`${window.location.origin}${e}`}function X(e){return e.map(t=>Object.assign(Object.assign({},t),{icon:Ne(t.icon)}))}function st(e){return Object.assign(Object.assign({},e),{url:Ne(e.url)})}var ge=function(e,t,n,o){function i(r){return r instanceof n?r:new n(function(d){d(r)})}return new(n||(n=Promise))(function(r,d){function p(h){try{L(o.next(h))}catch(w){d(w)}}function g(h){try{L(o.throw(h))}catch(w){d(w)}}function L(h){h.done?r(h.value):i(h.value).then(p,g)}L((o=o.apply(e,t||[])).next())})};class ct{constructor(t){this.contextMenus={},this.handleClick=n=>{var o;const i=this.contextMenus[n.id];i&&((o=i.onClick)===null||o===void 0||o.call(i,n.context,n.elementId))},this.messageBus=t,t.on("OBR_CONTEXT_MENU_EVENT_CLICK",this.handleClick)}create(t){return ge(this,void 0,void 0,function*(){this.messageBus.sendAsync("OBR_CONTEXT_MENU_CREATE",{id:t.id,shortcut:t.shortcut,icons:X(t.icons),embed:t.embed&&st(t.embed)}),this.contextMenus[t.id]=t})}remove(t){return ge(this,void 0,void 0,function*(){yield this.messageBus.sendAsync("OBR_CONTEXT_MENU_REMOVE",{id:t}),delete this.contextMenus[t]})}}var B=function(e,t,n,o){function i(r){return r instanceof n?r:new n(function(d){d(r)})}return new(n||(n=Promise))(function(r,d){function p(h){try{L(o.next(h))}catch(w){d(w)}}function g(h){try{L(o.throw(h))}catch(w){d(w)}}function L(h){h.done?r(h.value):i(h.value).then(p,g)}L((o=o.apply(e,t||[])).next())})};class ft{constructor(t){this.tools={},this.toolActions={},this.toolModes={},this.handleToolClick=n=>{const o=this.tools[n.id];if(o)if(o.onClick){const i=o.onClick(n.context,n.elementId);Promise.resolve(i).then(r=>{r&&this.messageBus.send("OBR_TOOL_ACTIVATE",{id:n.id})})}else this.messageBus.send("OBR_TOOL_ACTIVATE",{id:n.id})},this.handleToolActionClick=n=>{var o;const i=this.toolActions[n.id];i&&((o=i.onClick)===null||o===void 0||o.call(i,n.context,n.elementId))},this.handleToolModeClick=n=>{const o=this.toolModes[n.id];if(o)if(o.onClick){const i=o.onClick(n.context,n.elementId);Promise.resolve(i).then(r=>{r&&this.messageBus.send("OBR_TOOL_MODE_ACTIVATE",{toolId:n.context.activeTool,modeId:n.id})})}else this.messageBus.send("OBR_TOOL_MODE_ACTIVATE",{toolId:n.context.activeTool,modeId:n.id})},this.handleToolModeToolClick=n=>{const o=this.toolModes[n.id];if(o)if(o.onToolClick){const i=o.onToolClick(n.context,n.event);Promise.resolve(i).then(r=>{r&&n.event.target&&!n.event.target.locked&&this.messageBus.sendAsync("OBR_PLAYER_SELECT",{items:[n.event.target.id]})})}else n.event.target&&!n.event.target.locked&&this.messageBus.sendAsync("OBR_PLAYER_SELECT",{items:[n.event.target.id]})},this.handleToolModeToolDoubleClick=n=>{const o=this.toolModes[n.id];if(o)if(o.onToolDoubleClick){const i=o.onToolDoubleClick(n.context,n.event);Promise.resolve(i).then(r=>{r&&n.event.target&&this.messageBus.sendAsync("OBR_PLAYER_SELECT",{items:[n.event.target.id]})})}else n.event.target&&this.messageBus.sendAsync("OBR_PLAYER_SELECT",{items:[n.event.target.id]})},this.handleToolModeToolDown=n=>{var o;const i=this.toolModes[n.id];i&&((o=i.onToolDown)===null||o===void 0||o.call(i,n.context,n.event))},this.handleToolModeToolMove=n=>{var o;const i=this.toolModes[n.id];i&&((o=i.onToolMove)===null||o===void 0||o.call(i,n.context,n.event))},this.handleToolModeToolUp=n=>{var o;const i=this.toolModes[n.id];i&&((o=i.onToolUp)===null||o===void 0||o.call(i,n.context,n.event))},this.handleToolModeToolDragStart=n=>{var o;const i=this.toolModes[n.id];i&&((o=i.onToolDragStart)===null||o===void 0||o.call(i,n.context,n.event))},this.handleToolModeToolDragMove=n=>{var o;const i=this.toolModes[n.id];i&&((o=i.onToolDragMove)===null||o===void 0||o.call(i,n.context,n.event))},this.handleToolModeToolDragEnd=n=>{var o;const i=this.toolModes[n.id];i&&((o=i.onToolDragEnd)===null||o===void 0||o.call(i,n.context,n.event))},this.handleToolModeToolDragCancel=n=>{var o;const i=this.toolModes[n.id];i&&((o=i.onToolDragCancel)===null||o===void 0||o.call(i,n.context,n.event))},this.handleToolModeKeyDown=n=>{var o;const i=this.toolModes[n.id];i&&((o=i.onKeyDown)===null||o===void 0||o.call(i,n.context,n.event))},this.handleToolModeKeyUp=n=>{var o;const i=this.toolModes[n.id];i&&((o=i.onKeyUp)===null||o===void 0||o.call(i,n.context,n.event))},this.handleToolModeActivate=n=>{var o;const i=this.toolModes[n.id];i&&((o=i.onActivate)===null||o===void 0||o.call(i,n.context))},this.handleToolModeDeactivate=n=>{var o;const i=this.toolModes[n.id];i&&((o=i.onDeactivate)===null||o===void 0||o.call(i,n.context))},this.messageBus=t,t.on("OBR_TOOL_EVENT_CLICK",this.handleToolClick),t.on("OBR_TOOL_ACTION_EVENT_CLICK",this.handleToolActionClick),t.on("OBR_TOOL_MODE_EVENT_CLICK",this.handleToolModeClick),t.on("OBR_TOOL_MODE_EVENT_TOOL_CLICK",this.handleToolModeToolClick),t.on("OBR_TOOL_MODE_EVENT_TOOL_DOUBLE_CLICK",this.handleToolModeToolDoubleClick),t.on("OBR_TOOL_MODE_EVENT_TOOL_DOWN",this.handleToolModeToolDown),t.on("OBR_TOOL_MODE_EVENT_TOOL_MOVE",this.handleToolModeToolMove),t.on("OBR_TOOL_MODE_EVENT_TOOL_UP",this.handleToolModeToolUp),t.on("OBR_TOOL_MODE_EVENT_TOOL_DRAG_START",this.handleToolModeToolDragStart),t.on("OBR_TOOL_MODE_EVENT_TOOL_DRAG_MOVE",this.handleToolModeToolDragMove),t.on("OBR_TOOL_MODE_EVENT_TOOL_DRAG_END",this.handleToolModeToolDragEnd),t.on("OBR_TOOL_MODE_EVENT_TOOL_DRAG_CANCEL",this.handleToolModeToolDragCancel),t.on("OBR_TOOL_MODE_EVENT_KEY_DOWN",this.handleToolModeKeyDown),t.on("OBR_TOOL_MODE_EVENT_KEY_UP",this.handleToolModeKeyUp),t.on("OBR_TOOL_MODE_EVENT_ACTIVATE",this.handleToolModeActivate),t.on("OBR_TOOL_MODE_EVENT_DEACTIVATE",this.handleToolModeDeactivate)}create(t){return B(this,void 0,void 0,function*(){yield this.messageBus.sendAsync("OBR_TOOL_CREATE",{id:t.id,shortcut:t.shortcut,defaultMode:t.defaultMode,defaultMetadata:t.defaultMetadata,icons:X(t.icons),disabled:t.disabled}),this.tools[t.id]=t})}remove(t){return B(this,void 0,void 0,function*(){yield this.messageBus.sendAsync("OBR_TOOL_REMOVE",{id:t}),delete this.tools[t]})}activateTool(t){return B(this,void 0,void 0,function*(){yield this.messageBus.sendAsync("OBR_TOOL_ACTIVATE",{id:t})})}getActiveTool(){return B(this,void 0,void 0,function*(){const{id:t}=yield this.messageBus.sendAsync("OBR_TOOL_GET_ACTIVE",{});return t})}onToolChange(t){const n=o=>{t(o.id)};return this.messageBus.send("OBR_TOOL_ACTIVE_SUBSCRIBE",{}),this.messageBus.on("OBR_TOOL_ACTIVE_EVENT_CHANGE",n),()=>{this.messageBus.send("OBR_TOOL_ACTIVE_UNSUBSCRIBE",{}),this.messageBus.off("OBR_TOOL_ACTIVE_EVENT_CHANGE",n)}}getMetadata(t){return B(this,void 0,void 0,function*(){const{metadata:n}=yield this.messageBus.sendAsync("OBR_TOOL_GET_METADATA",{id:t});return n})}setMetadata(t,n){return B(this,void 0,void 0,function*(){yield this.messageBus.sendAsync("OBR_TOOL_SET_METADATA",{toolId:t,update:n})})}createAction(t){return B(this,void 0,void 0,function*(){yield this.messageBus.sendAsync("OBR_TOOL_ACTION_CREATE",{id:t.id,shortcut:t.shortcut,icons:X(t.icons),disabled:t.disabled}),this.toolActions[t.id]=t})}removeAction(t){return B(this,void 0,void 0,function*(){yield this.messageBus.sendAsync("OBR_TOOL_ACTION_REMOVE",{id:t}),delete this.tools[t]})}createMode(t){return B(this,void 0,void 0,function*(){yield this.messageBus.sendAsync("OBR_TOOL_MODE_CREATE",{id:t.id,shortcut:t.shortcut,icons:X(t.icons),preventDrag:t.preventDrag,disabled:t.disabled,cursors:t.cursors}),this.toolModes[t.id]=t})}removeMode(t){return B(this,void 0,void 0,function*(){yield this.messageBus.sendAsync("OBR_TOOL_MODE_REMOVE",{id:t}),delete this.tools[t]})}activateMode(t,n){return B(this,void 0,void 0,function*(){yield this.messageBus.sendAsync("OBR_TOOL_MODE_ACTIVATE",{toolId:t,modeId:n})})}getActiveToolMode(){return B(this,void 0,void 0,function*(){const{id:t}=yield this.messageBus.sendAsync("OBR_TOOL_MODE_GET_ACTIVE",{});return t})}onToolModeChange(t){const n=o=>{t(o.id)};return this.messageBus.send("OBR_TOOL_MODE_ACTIVE_SUBSCRIBE",{}),this.messageBus.on("OBR_TOOL_MODE_ACTIVE_EVENT_CHANGE",n),()=>{this.messageBus.send("OBR_TOOL_MODE_ACTIVE_UNSUBSCRIBE",{}),this.messageBus.off("OBR_TOOL_MODE_ACTIVE_EVENT_CHANGE",n)}}}he();const _e=typeof Buffer=="function",Le=typeof TextDecoder=="function"?new TextDecoder:void 0;typeof TextEncoder=="function"&&new TextEncoder;const ut="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",dt=Array.prototype.slice.call(ut),Z=(e=>{let t={};return e.forEach((n,o)=>t[n]=o),t})(dt),at=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,S=String.fromCharCode.bind(String),Ce=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),Se=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),lt=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,ht=e=>{switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),n=t-65536;return S((n>>>10)+55296)+S((n&1023)+56320);case 3:return S((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return S((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},_t=e=>e.replace(lt,ht),pt=e=>{if(e=e.replace(/\s+/g,""),!at.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(e.length&3));let t,n="",o,i;for(let r=0;r<e.length;)t=Z[e.charAt(r++)]<<18|Z[e.charAt(r++)]<<12|(o=Z[e.charAt(r++)])<<6|(i=Z[e.charAt(r++)]),n+=o===64?S(t>>16&255):i===64?S(t>>16&255,t>>8&255):S(t>>16&255,t>>8&255,t&255);return n},Ve=typeof atob=="function"?e=>atob(Se(e)):_e?e=>Buffer.from(e,"base64").toString("binary"):pt,yt=_e?e=>Ce(Buffer.from(e,"base64")):e=>Ce(Ve(e).split("").map(t=>t.charCodeAt(0))),Ot=_e?e=>Buffer.from(e,"base64").toString("utf8"):Le?e=>Le.decode(yt(e)):e=>_t(Ve(e)),vt=e=>Se(e.replace(/[-_]/g,t=>t=="-"?"+":"/")),mt=e=>Ot(vt(e));function Et(){const t=new URLSearchParams(window.location.search).get("obrref");let n="",o="";if(t){const r=mt(t).split(" ");r.length===2&&(n=r[0],o=r[1])}return{origin:n,roomId:o}}var Me;(function(e){e[e.MOVE=0]="MOVE",e[e.LINE=1]="LINE",e[e.QUAD=2]="QUAD",e[e.CONIC=3]="CONIC",e[e.CUBIC=4]="CUBIC",e[e.CLOSE=5]="CLOSE"})(Me||(Me={}));const xe=Et(),pe=new Ye(xe.origin,xe.roomId),Tt=new qe(pe);new ct(pe);new ft(pe);const wt={notification:Tt};function At(e){let t=0;const n=o=>{t=o,e.innerHTML=`count is ${t}`,console.log(wt.notification.show(`count is ${t}`,"WARNING"))};e.addEventListener("click",()=>n(t+1)),n(0)}document.querySelector("#app").innerHTML=`
  <div>
    <a href="https://vite.dev" target="_blank">
      <img src="${Pe}" class="logo" alt="Vite logo" />
    </a>
    <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript" target="_blank">
      <img src="${Fe}" class="logo vanilla" alt="JavaScript logo" />
    </a>
    <h1>Hello Vite!</h1>
    <div class="card">
      <button id="counter" type="button"></button>
    </div>
    <p class="read-the-docs">
      Click on the Vite logo to learn more
    </p>
  </div>
`;At(document.querySelector("#counter"));
